<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Momentum & Collisions | Physics Explorer</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="description" content="In-depth module on momentum and collisions: theory, conceptual questions, hard numericals, MCQs, summaries, and tips." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #06080d;
  --bg-alt: #0b1119;
  --panel: #121b27;
  --panel-alt: #162233;
  --text: #d9e6f5;
  --text-dim: #8ea2bb;
  --accent: #63a1ff;
  --accent-alt: #8f6bff;
  --accent-grad: linear-gradient(135deg,#63a1ff,#8f6bff 55%,#d05bff);
  --danger: #ff4d61;
  --ok: #4ddf88;
  --warn: #ffcc4d;
  --radius-s: 6px;
  --radius: 14px;
  --shadow: 0 8px 28px -10px rgba(40,80,140,.4);
  --font-display: 'Space Grotesk', 'Inter', system-ui, sans-serif;
  font-family: 'Inter', system-ui, sans-serif;
}

* { box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  background: radial-gradient(circle at 20% 15%,#132033,#06080d 70%);
  color: var(--text);
  line-height: 1.55;
  -webkit-font-smoothing: antialiased;
  font-size: 16px;
}

h1,h2,h3,h4 { font-family: var(--font-display); font-weight: 600; line-height: 1.15; margin: 0 0 .6em; letter-spacing: .5px; }
p { margin: 0 0 1em; }
a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

.site-header { position: relative; padding-bottom: 3rem; overflow: hidden; }
#bgCanvas { position: absolute; inset: 0; width: 100%; height: 100%; z-index: 0; }

.nav-wrap {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .9rem clamp(1rem,3vw,2rem);
}

.logo { font-size: 1.25rem; font-weight: 700; letter-spacing: .5px; }
.logo span {
  background: var(--accent-grad);
  -webkit-background-clip: text;
  color: transparent;
}

.nav { display: flex; gap: 1.2rem; list-style: none; margin: 0; padding: 0; font-size: .9rem; }
.nav a {
  position: relative;
  padding: .4rem .2rem;
  font-weight: 500;
}
.nav li.active a:after,
.nav a:focus-visible:after,
.nav a:hover:after { width: 100%; }
.nav a:after {
  content: "";
  position: absolute;
  left: 0; bottom: 0;
  height: 2px; width: 0;
  background: var(--accent-grad);
  transition: width .35s;
  border-radius: 2px;
}

.hero {
  position: relative;
  z-index: 2;
  padding: 2rem clamp(1rem,3vw,2rem) 0;
  max-width: 1080px;
  margin: 0 auto;
}
.hero h1 { font-size: clamp(2.3rem,6vw,3.5rem); margin-top: 0; }
.badge {
  display: inline-block;
  background: var(--panel);
  padding: .4rem .8rem;
  font-size: .55em;
  border-radius: 999px;
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-right: .7rem;
  box-shadow: 0 2px 8px -2px rgba(0,0,0,.3);
}
.lead { font-size: clamp(1.05rem,1.9vw,1.35rem); max-width: 820px; color: var(--text-dim); }
.hero-actions { margin-top: 1.4rem; display: flex; gap: 1rem; flex-wrap: wrap; }

.btn {
  --btn-bg: var(--panel-alt);
  --btn-color: var(--text);
  border: 1px solid #203043;
  background: var(--btn-bg);
  color: var(--btn-color);
  padding: .85rem 1.25rem;
  font-size: .85rem;
  font-weight: 600;
  letter-spacing: .6px;
  border-radius: var(--radius-s);
  cursor: pointer;
  transition: background .35s, transform .25s, box-shadow .25s;
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  text-decoration: none;
  position: relative;
}
.btn.primary { --btn-bg: var(--accent-grad); color: #fff; box-shadow: var(--shadow); border: 0; }
.btn.outline { background: transparent; border: 1px solid #324457; }
.btn:hover { transform: translateY(-2px); }
.btn.small { padding: .55rem .9rem; font-size: .7rem; letter-spacing: .8px; }
.btn:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }

.section { padding: clamp(3rem,7vw,5.5rem) clamp(1rem,3vw,2rem); max-width: 1180px; margin: 0 auto; }
.section.alt {
  background: linear-gradient(145deg,#0d1520,#08101a);
  border-top: 1px solid #142233;
  border-bottom: 1px solid #142233;
}

.theory-block {
  background: var(--panel);
  border: 1px solid #1d2a39;
  padding: 1.2rem 1.3rem 1.4rem;
  border-radius: var(--radius);
  box-shadow: 0 6px 20px -8px rgba(0,0,0,.45);
  margin-bottom: 1.3rem;
  position: relative;
  overflow: hidden;
}
.theory-block:before {
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 85% 20%,rgba(143,107,255,.16),transparent 60%);
  opacity:.7;
  pointer-events:none;
}

.dash { list-style: none; padding-left: 0; margin: .6rem 0 0; }
.dash li {
  position: relative;
  padding-left: 1.05rem;
  margin-bottom: .4rem;
  font-size: .9rem;
}
.dash li:before { content:"–"; position:absolute; left:0; color: var(--accent); }

.qa-list .qa, .problems .problem {
  margin-bottom: .9rem;
  border: 1px solid #1e2d3d;
  border-radius: var(--radius-s);
  background: var(--panel);
  overflow: hidden;
}

.qa button.q,
.problem button.q {
  all: unset;
  cursor: pointer;
  display: block;
  width: 100%;
  padding: .85rem 1rem;
  font-weight: 600;
  letter-spacing: .4px;
  font-size: .9rem;
  background: linear-gradient(90deg,#162434,#132030);
  position: relative;
}
.qa button.q:hover,
.problem button.q:hover { background: linear-gradient(90deg,#1b2f44,#172a3b); }
.qa .a,
.problem .a {
  display: none;
  padding: .8rem 1rem 1rem;
  font-size: .85rem;
  color: var(--text-dim);
  background: #121d29;
  line-height: 1.55;
}
.qa.open .a,
.problem.open .a { display: block; }
.qa.open button.q:after,
.problem.open button.q:after { transform: rotate(180deg); }

.qa button.q:after,
.problem button.q:after {
  content:"⌄";
  position:absolute;
  right: 1rem;
  top: 50%;
  transform:translateY(-50%);
  font-size: .9rem;
  transition: transform .35s;
  color: var(--accent);
}

.problems .problem ol { margin: 0 0 .6rem 1rem; padding-left: .6rem; }
.problems .problem ul { margin: .3rem 0 .6rem 1rem; font-size: .8rem; }

.mcq-controls {
  display: flex;
  flex-wrap: wrap;
  gap: .9rem;
  align-items: center;
  background: var(--panel);
  border: 1px solid #1d2d3d;
  padding: .8rem .9rem;
  border-radius: var(--radius-s);
  margin: 1.2rem 0 1.5rem;
  font-size: .75rem;
}
.mcq-controls label {
  font-weight: 600;
  letter-spacing: .6px;
  display: flex;
  gap: .4rem;
  align-items: center;
}
.mcq-controls input {
  width: 4rem;
  background: #162332;
  border: 1px solid #26394d;
  color: var(--text);
  padding: .35rem .4rem;
  border-radius: var(--radius-s);
  font: inherit;
}

.mcq-bottom-actions {
  margin-top: 1.8rem;
  display: flex;
  justify-content: flex-end;
}

.timer-display {
  font-weight: 700;
  letter-spacing: 1px;
  min-width: 90px;
  text-align: center;
  padding: .4rem .6rem;
  border-radius: var(--radius-s);
  background: #162332;
  border: 1px solid #223444;
}
.timer-warning { color: var(--warn); animation: pulseWarn 1s infinite; }
.timer-expired { color: var(--danger); }
@keyframes pulseWarn {
  0%,100% { text-shadow: 0 0 4px rgba(255,204,77,.4); }
  50% { text-shadow: 0 0 10px rgba(255,204,77,.9); }
}

.mcq-grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit,minmax(250px,1fr));
  margin-top: 2rem;
}

.mcq {
  background: var(--panel);
  border: 1px solid #1e2d3d;
  border-radius: var(--radius);
  padding: .9rem .9rem 1rem;
  font-size: .8rem;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
}
.mcq:before {
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 75% 20%,rgba(99,161,255,.12),transparent 60%);
  pointer-events:none;
}
.mcq .stem { font-weight: 600; margin-bottom: .5rem; font-size: .85rem; line-height: 1.3; }
.mcq ol.options {
  list-style: none;
  margin: 0 0 .5rem;
  padding: 0;
  display: grid;
  gap: .35rem;
}
.mcq ol.options li {
  background: #162332;
  padding: .45rem .55rem;
  border-radius: var(--radius-s);
  cursor: pointer;
  position: relative;
  transition: background .3s, transform .25s;
}
.mcq ol.options li:hover { background: #1d2e41; }
.mcq.correct ol.options li.selected { background: linear-gradient(90deg,#0f3a24,#1a5537); }
.mcq.incorrect ol.options li.selected { background: linear-gradient(90deg,#4e1e27,#5c1f2b); }
.mcq.locked ol.options li { cursor: not-allowed; opacity: .65; }
.mcq .explain {
  font-size: .7rem;
  color: var(--text-dim);
  min-height: 1rem;
  line-height: 1.4;
  border-top: 1px dashed #223344;
  padding-top: .4rem;
}

.mcq.correct:after,
.mcq.incorrect:after {
  position: absolute;
  top: .6rem;
  right: .6rem;
  font-size: .8rem;
  font-weight: 700;
  letter-spacing: .5px;
}
.mcq.correct:after { content: "✓"; color: var(--ok); }
.mcq.incorrect:after { content: "✕"; color: var(--danger); }

.mcq-final-summary {
  margin-top: 2.5rem;
  background: var(--panel);
  border: 1px solid #1e2d3d;
  padding: 1.2rem 1.3rem;
  border-radius: var(--radius);
  font-size: .85rem;
  color: var(--text-dim);
  line-height: 1.5;
}
.mcq-final-summary h3 { margin-top: 0; font-size: 1.05rem; color: var(--text); }

.summary-grid {
  display: grid;
  gap: .6rem;
  grid-template-columns: repeat(auto-fit,minmax(140px,1fr));
  margin: .8rem 0 1.2rem;
}
.summary-grid .metric {
  background: #162332;
  border: 1px solid #223445;
  padding: .6rem .7rem;
  border-radius: var(--radius-s);
  font-size: .7rem;
  letter-spacing: .5px;
}
.summary-grid .metric strong { display: block; font-size: .95rem; color: var(--accent); margin-bottom: .25rem; }

.incorrect-list {
  margin: 1rem 0 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: .55rem;
  font-size: .7rem;
}
.incorrect-list li {
  background: #151f2a;
  border: 1px solid #223342;
  padding: .55rem .6rem .65rem;
  border-radius: var(--radius-s);
}

.mcq-summary-intro {
  margin-top: 2.5rem;
  background: var(--panel);
  border: 1px solid #1e2d3d;
  padding: 1.2rem 1.3rem;
  border-radius: var(--radius);
  font-size: .85rem;
  color: var(--text-dim);
}

.tips-list {
  list-style: none;
  margin: 1rem 0 0;
  padding: 0;
  display: grid;
  gap: .65rem;
  font-size: .85rem;
}
.tips-list li {
  background: var(--panel);
  padding: .7rem .85rem;
  border: 1px solid #1d2b3b;
  border-radius: var(--radius-s);
  position: relative;
  line-height: 1.4;
}
.tips-list li strong { color: var(--accent); }

.site-footer {
  padding: 2.5rem clamp(1rem,3vw,2rem) 2.8rem;
  background: #05080d;
  font-size: .7rem;
  color: var(--text-dim);
  border-top: 1px solid #121c27;
}
.footer-inner {
  max-width: 1180px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 1rem;
}
.to-top {
  background: #132030;
  padding: .6rem .85rem;
  border-radius: var(--radius-s);
  text-decoration: none;
  color: var(--text-dim);
  font-weight: 600;
  font-size: .7rem;
  letter-spacing: 1px;
}
.to-top:hover { background: #1a2d40; }

#themeToggle { backdrop-filter: blur(4px); }

.light {
  --bg: #f5f9ff;
  --bg-alt: #e9f1fa;
  --panel: #ffffff;
  --panel-alt: #f1f6fb;
  --text: #22303d;
  --text-dim: #5a7288;
  --accent: #316dff;
  --accent-alt: #6942ff;
  --accent-grad: linear-gradient(135deg,#316dff,#6942ff 55%,#a842ff);
  background: #f2f7fc;
  color: var(--text);
}
.light .section.alt { background: #eef4fa; }
.light .theory-block,
.light .qa button.q,
.light .problem button.q,
.light .qa .a,
.light .problem .a,
.light .mcq,
.light .tips-list li,
.light .mcq-controls,
.light .mcq-final-summary,
.light .mcq-summary-intro {
  background: var(--panel);
  border-color: #d3dfec;
}
.light .mcq ol.options li { background: #f1f6fb; }
.light .mcq ol.options li:hover { background: #e3edf7; }
.light .mcq.correct ol.options li.selected { background: #dff4ea; }
.light .mcq.incorrect ol.options li.selected { background: #f9d9de; }
.light .btn.outline { border-color: #c2d3e4; }
.light .site-footer { background: #e2ecf6; border-top-color:#c5d6e4; }
.light .timer-display { background: #e7f0f9; border-color:#c5d6e4; }

@media (max-width: 760px) { .mcq-grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 560px) {
  .mcq-grid { grid-template-columns: 1fr; }
  .nav { display: none; }
  .mcq-controls { flex-direction: column; align-items: stretch; }
  .timer-display { width: 100%; }
  .mcq-bottom-actions { justify-content: stretch; }
}

::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: #0d1620; }
::-webkit-scrollbar-thumb { background: #1d3042; border-radius: 6px; }
::-webkit-scrollbar-thumb:hover { background: #28455f; }
</style>
</head>
<body>
<header class="site-header" id="top">
  <div class="nav-wrap">
    <div class="logo">Physics<span>Module</span></div>
    <nav>
      <ul class="nav">
        <li><a href="index.html">Home</a></li>
        <li class="active"><a href="#top">Momentum & Collisions</a></li>
        <li><a href="#conceptual">Conceptual Qs</a></li>
        <li><a href="#numericals">Numericals</a></li>
        <li><a href="#mcqs">MCQs</a></li>
        <li><a href="#tips">Tips</a></li>
      </ul>
    </nav>
    <button id="themeToggle" class="btn small" aria-label="Toggle theme">☾</button>
  </div>
  <div class="hero">
    <h1><span class="badge">Module</span> Momentum & Collisions</h1>
    <p class="lead">Deep dive into linear momentum, impulse, conservation laws, frames of reference, elastic & inelastic collisions (1D / 2D), center of mass, coefficient of restitution, and challenging multi-step problems—all wrapped in an interactive learning experience.</p>
    <div class="hero-actions">
      <a href="#overview" class="btn primary">Start Learning ↓</a>
      <a href="#mcqs" class="btn outline">Jump to MCQs</a>
    </div>
  </div>
  <canvas id="bgCanvas" aria-hidden="true"></canvas>
</header>

<main id="mainContent">

  <!-- Overview Section -->
  <section id="overview" class="section">
    <h2>1. Core Concepts & Theory</h2>

    <article class="theory-block">
      <h3>1.1 Linear Momentum</h3>
      <p><strong>Momentum</strong> (vector) is defined as <code>p = m v</code>. Units: kg·m/s. It encodes both magnitude and direction and is additive for systems.</p>
      <p><strong>Principle:</strong> In an isolated system (no net external impulse), total momentum is conserved: <code>Σp_before = Σp_after</code>.</p>
    </article>

    <article class="theory-block">
      <h3>1.2 Impulse & Momentum Change</h3>
      <p><strong>Impulse</strong> <code>J = ∫ F dt = Δp</code>. Large momentum change: large force short time or moderate force longer time. Increasing impact time reduces peak force.</p>
    </article>

    <article class="theory-block">
      <h3>1.3 System & Internal Forces</h3>
      <p>Internal forces form action–reaction pairs and cancel in the system sum. Only external forces change total momentum.</p>
    </article>

    <article class="theory-block">
      <h3>1.4 Types of Collisions</h3>
      <ul class="dash">
        <li><strong>Perfectly Elastic:</strong> Momentum & KE conserved.</li>
        <li><strong>Perfectly Inelastic:</strong> Bodies stick; momentum conserved; KE loss maximal.</li>
        <li><strong>Partially Inelastic:</strong> Momentum conserved; some KE lost (<code>0&lt;e&lt;1</code>).</li>
      </ul>
    </article>

    <article class="theory-block">
      <h3>1.5 Coefficient of Restitution</h3>
      <p><code>e = (relative speed of separation)/(relative speed of approach)</code>. Elastic: <code>e=1</code>; perfectly inelastic: <code>e=0</code>.</p>
    </article>

    <article class="theory-block">
      <h3>1.6 Center of Mass Frame</h3>
      <p>In COM frame total momentum zero. For elastic two-body collisions speeds reverse along line of impact → simpler algebra.</p>
    </article>

    <article class="theory-block">
      <h3>1.7 2D & Oblique Collisions</h3>
      <p>Conserve momentum components independently. Impulse along line of centers changes only parallel component; perpendicular relative velocity unchanged (elastic).</p>
    </article>

    <article class="theory-block">
      <h3>1.8 Explosion / Recoil</h3>
      <p>Internal energy converts to kinetic; fragment momenta equal & opposite so total momentum obeys conservation.</p>
    </article>

    <article class="theory-block">
      <h3>1.9 Sequential Collisions</h3>
      <p>Impulse propagates (e.g., Newton’s cradle). Small dissipations accumulate causing damping.</p>
    </article>

    <article class="theory-block">
      <h3>1.10 Advanced Considerations</h3>
      <ul class="dash">
        <li><strong>Relativistic Momentum:</strong> <code>p=γmv</code> (high speeds).</li>
        <li><strong>Off-Center Impacts:</strong> Generate torque / rotational KE.</li>
        <li><strong>Deformation:</strong> KE partitions to heat, sound, internal modes.</li>
      </ul>
    </article>
  </section>

  <!-- Conceptual Questions -->
  <section id="conceptual" class="section alt">
    <h2>2. Conceptual Questions (with Answers)</h2>
    <p>Click each question to reveal the answer & explanation.</p>
    <div class="qa-list">
      <div class="qa">
        <button class="q" aria-expanded="false">C1. Why can kinetic energy change in a collision while total momentum remains the same?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Momentum linear in v and internal forces cancel pairwise; KE depends on v² and can convert to internal energy without breaking momentum conservation.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C2. In a perfectly inelastic collision, what happens to the system’s COM velocity?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Unchanged (no external impulse). Combined mass moves with initial COM velocity.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C3. Two skaters push apart on frictionless ice. Both gain speed—how is momentum conserved?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Equal and opposite momenta sum to zero (initial total).</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C4. Why analyze in COM frame?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Total momentum zero; elastic velocities reverse along impact axis → simpler solution.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C5. Can momentum of a single object change without an external force?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Yes, via internal exchanges; system total remains constant.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C6. Why does extending collision time reduce force?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Impulse J=F_avg Δt=Δp; larger Δt lowers average force for fixed Δp.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C7. Equal masses elastic head-on: why exchange velocities?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Simultaneous conservation of momentum & KE with m1=m2 forces swap; COM frame shows simple reversal.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C8. Is kinetic energy always lost in inelastic collisions?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Yes (relative to elastic reference) as part converts to internal forms; total energy conserved.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C9. “Explosive” separation yet momentum conserved—how?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Internal energy release gives equal & opposite impulses; vector sum unchanged.</p>
        </div>
      </div>
      <div class="qa">
        <button class="q" aria-expanded="false">C10. Handling oblique 2D collisions?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Resolve into orthogonal components; conserve each. Impulse modifies only parallel component.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Hard Numericals -->
  <section id="numericals" class="section">
    <h2>3. Very Hard Numerical Problems (with Worked Solutions)</h2>
    <p>Toggle each problem to reveal a structured solution.</p>
    <div class="problems">
      <div class="problem">
        <button class="q" aria-expanded="false">N1. A 2.0 kg cart (6.0 m/s right) collides elastically with a 3.0 kg cart (−2.0 m/s). Find final velocities.</button>
        <div class="a" role="region" aria-hidden="true">
          <ol>
            <li>Elastic formulas:
              <ul>
                <li>v1' = [(m1−m2)/(m1+m2)] v1 + [2 m2/(m1+m2)] v2</li>
                <li>v2' = [2 m1/(m1+m2)] v1 + [(m2−m1)/(m1+m2)] v2</li>
              </ul>
            </li>
            <li>v1' = -3.6 m/s; v2' = +4.4 m/s (checks momentum & KE).</li>
          </ol>
          <p><strong>Answer:</strong> v1' = -3.6 m/s, v2' = +4.4 m/s.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N2. 0.50 kg ball 15 m/s hits 2.0 kg block (rest), e=0.60. Final speeds?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>v1' = -4.2 m/s (rebound), v2' = 4.8 m/s forward.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N3. Three masses (1 kg @8 m/s, 2 kg rest, 3 kg rest) sequential elastic collisions. Final speeds?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Final: 1 kg: -2.67 m/s; 2 kg: -1.07 m/s; 3 kg: 4.27 m/s. No re-collision.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N4. Explosion inconsistency diagnostic (data over-specified). Explain.</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Momentum forces vB=25 m/s; KE increase then only +15 J (not +30 J) ⇒ inconsistent data set.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N5. Perfectly inelastic 2D puck collision (0.10 kg @8 m/s E, 0.15 kg @6 m/s N). Resultant and KE loss?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>v=4.82 m/s at 48.4° N of E; KE loss ≈50.8%.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N6. 2D elastic equal masses, one at rest; first deflects 37° N of E. Final speeds?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>m1': 8.0 m/s @37° N of E; m2': 6.0 m/s @53° S of E (perpendicular paths).</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N7. Spring compression scenario inconsistency & corrected energy.</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Correct shared velocity 5.625 m/s; spring energy ≈76 J; stated 4 m/s inconsistent.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N8. Head-on m & 2m, speeds v and 2v opposite; coefficient of restitution e. Final velocities?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>v1' = −(1+2e)v; v2' = (e−1)v; lighter always reverses direction.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N9. Fragmentation with given KE shows impossibility. Why?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>|p1|+|p2| &lt; required 40 → cannot form resultant magnitude; no angle satisfies both KE & momentum.</p>
        </div>
      </div>
      <div class="problem">
        <button class="q" aria-expanded="false">N10. Oblique wall rebound (e=0.75). Impulse & KE loss?</button>
        <div class="a" role="region" aria-hidden="true">
          <p>Impulse ≈ 6.82 N·s; KE loss ≈ 13.3 J (32.8%).</p>
        </div>
      </div>
    </div>
  </section>

  <!-- MCQs -->
  <section id="mcqs" class="section alt">
    <h2>4. Multiple Choice Questions (20)</h2>
    <p>Set a timer (optional), answer MCQs. The Finish & Summary button is at the end of the MCQ list.</p>

    <div class="mcq-controls">
      <label>Timer (minutes):
        <input type="number" id="mcqMinutes" min="1" value="10" />
      </label>
      <button id="startMcqTimer" class="btn small primary">Start Timer</button>
      <span id="mcqTimerDisplay" class="timer-display" aria-live="polite"></span>
    </div>

    <div class="mcq-grid">
      <div class="mcq" data-answer="b">
        <div class="stem">MCQ1. Momentum dimensionally equals:</div>
        <ol class="options">
          <li data-opt="a">kg·m</li>
          <li data-opt="b">kg·m/s</li>
          <li data-opt="c">N·s/m</li>
          <li data-opt="d">N</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="c">
        <div class="stem">MCQ2. In a closed system, kinetic energy is conserved only if the collision is:</div>
        <ol class="options">
          <li data-opt="a">Partially inelastic</li>
          <li data-opt="b">Explosive</li>
          <li data-opt="c">Perfectly elastic</li>
          <li data-opt="d">Perfectly inelastic</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="d">
        <div class="stem">MCQ3. Coefficient of restitution depends primarily on:</div>
        <ol class="options">
          <li data-opt="a">Mass ratio only</li>
          <li data-opt="b">Initial kinetic energy only</li>
          <li data-opt="c">External forces</li>
          <li data-opt="d">Material properties & deformation behavior</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="a">
        <div class="stem">MCQ4. For equal masses in a 1D elastic collision, one initially at rest, after collision they move:</div>
        <ol class="options">
          <li data-opt="a">Perpendicularly if viewed in 2D idealization / exchange velocities in 1D</li>
          <li data-opt="b">Stick together</li>
          <li data-opt="c">Reverse both velocities</li>
          <li data-opt="d">Heavier stops</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="c">
        <div class="stem">MCQ5. Impulse equals change in:</div>
        <ol class="options">
          <li data-opt="a">Kinetic energy</li>
          <li data-opt="b">Acceleration</li>
          <li data-opt="c">Momentum</li>
          <li data-opt="d">Power</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="b">
        <div class="stem">MCQ6. A perfectly inelastic collision maximizes loss of:</div>
        <ol class="options">
          <li data-opt="a">Momentum</li>
          <li data-opt="b">Kinetic energy</li>
          <li data-opt="c">Impulse</li>
          <li data-opt="d">Mass</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="a">
        <div class="stem">MCQ7. If net external impulse is zero, total momentum of system:</div>
        <ol class="options">
          <li data-opt="a">Remains constant</li>
          <li data-opt="b">Becomes zero</li>
          <li data-opt="c">Doubles</li>
          <li data-opt="d">Becomes undefined</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="d">
        <div class="stem">MCQ8. In COM frame for an elastic two-body collision, speeds after vs before:</div>
        <ol class="options">
          <li data-opt="a">Increase</li>
          <li data-opt="b">Decrease</li>
          <li data-opt="c">Become zero</li>
          <li data-opt="d">Remain same, directions reversed</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="c">
        <div class="stem">MCQ9. Which quantity is always conserved (isolated system)?</div>
        <ol class="options">
          <li data-opt="a">Kinetic energy</li>
          <li data-opt="b">Mechanical energy</li>
          <li data-opt="c">Linear momentum</li>
          <li data-opt="d">Elastic potential energy</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="b">
        <div class="stem">MCQ10. An explosion at rest fragments into pieces. Total vector sum of fragment momenta is:</div>
        <ol class="options">
          <li data-opt="a">Greater than zero</li>
          <li data-opt="b">Zero</li>
          <li data-opt="c">Negative</li>
          <li data-opt="d">Unbounded</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="a">
        <div class="stem">MCQ11. Coefficient of restitution e=0 indicates:</div>
        <ol class="options">
          <li data-opt="a">Perfectly inelastic</li>
          <li data-opt="b">Elastic</li>
          <li data-opt="c">Explosive</li>
          <li data-opt="d">No momentum conservation</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="d">
        <div class="stem">MCQ12. A ball's tangential velocity component relative to a smooth wall after elastic collision:</div>
        <ol class="options">
          <li data-opt="a">Doubles</li>
          <li data-opt="b">Becomes zero</li>
          <li data-opt="c">Reverses sign</li>
          <li data-opt="d">Remains unchanged</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="c">
        <div class="stem">MCQ13. A 1D collision where objects separate with less relative speed than approach is:</div>
        <ol class="options">
          <li data-opt="a">Elastic</li>
          <li data-opt="b">Super-elastic</li>
          <li data-opt="c">Inelastic</li>
          <li data-opt="d">Impossible</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="b">
        <div class="stem">MCQ14. Super-elastic collision implies:</div>
        <ol class="options">
          <li data-opt="a">e &lt; 0</li>
          <li data-opt="b">e &gt; 1</li>
          <li data-opt="c">e = 0</li>
          <li data-opt="d">No kinetic energy</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="d">
        <div class="stem">MCQ15. In COM frame total momentum is:</div>
        <ol class="options">
          <li data-opt="a">Maximal</li>
          <li data-opt="b">Mass-dependent</li>
          <li data-opt="c">Half original</li>
          <li data-opt="d">Zero</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="a">
        <div class="stem">MCQ16. Impulse units are identical to:</div>
        <ol class="options">
          <li data-opt="a">Momentum</li>
          <li data-opt="b">Energy</li>
          <li data-opt="c">Power</li>
          <li data-opt="d">Work/time</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="c">
        <div class="stem">MCQ17. Maximum kinetic energy loss in a 1D collision occurs when:</div>
        <ol class="options">
          <li data-opt="a">e=1</li>
          <li data-opt="b">e=0.5</li>
          <li data-opt="c">e=0</li>
          <li data-opt="d">Masses equal</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="b">
        <div class="stem">MCQ18. Momentum of a system changes if:</div>
        <ol class="options">
          <li data-opt="a">Internal forces act</li>
          <li data-opt="b">Net external impulse acts</li>
          <li data-opt="c">Total mass constant</li>
          <li data-opt="d">Temperature changes internally</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="d">
        <div class="stem">MCQ19. A cue ball hits an identical billiard ball at rest elastically and stops. This implies collision direction was:</div>
        <ol class="options">
          <li data-opt="a">Glancing</li>
          <li data-opt="b">Oblique impossible</li>
          <li data-opt="c">Arbitrary</li>
          <li data-opt="d">Centered (head-on)</li>
        </ol>
        <div class="explain"></div>
      </div>
      <div class="mcq" data-answer="c">
        <div class="stem">MCQ20. Immediate practical method to reduce injury in a collision:</div>
        <ol class="options">
          <li data-opt="a">Increase momentum</li>
          <li data-opt="b">Reduce mass suddenly</li>
          <li data-opt="c">Increase collision time (expand Δt)</li>
          <li data-opt="d">Constrain motion rigidly</li>
        </ol>
        <div class="explain"></div>
      </div>
    </div>

    <!-- Finish button moved to bottom -->
    <div class="mcq-bottom-actions">
      <button id="finishMcq" class="btn primary" disabled>Finish & Summary</button>
    </div>

    <div id="mcqFinalSummary" class="mcq-final-summary" hidden></div>

    <div class="mcq-summary-intro">
      <h3>MCQ Conceptual Coverage Summary</h3>
      <p>These MCQs span unit analysis, collision classifications, restitution, COM frame symmetry, energy loss hierarchy, impulse relations, and practical safety applications (force-time extension). Use the feedback & final summary to target weak spots efficiently.</p>
    </div>
  </section>

  <!-- Tips -->
  <section id="tips" class="section">
    <h2>5. Strategic Tips & Exam Insights</h2>
    <ul class="tips-list">
      <li><strong>Vector First:</strong> Always write momentum conservation component-wise before plugging numbers.</li>
      <li><strong>Classify Collision:</strong> Identify type early to know which quantities remain conserved.</li>
      <li><strong>Check Feasibility:</strong> Momentum + KE must both hold; contradictions flag invalid data.</li>
      <li><strong>COM Frame Trick:</strong> Elastic relative velocities invert—fast path to results.</li>
      <li><strong>Impulse Axis:</strong> Only line-of-impact component changes (smooth, central collisions).</li>
      <li><strong>Restitution Equation:</strong> Often simpler than direct KE conservation first.</li>
      <li><strong>Sequential Collisions:</strong> Update states after each impact; test for re-collisions.</li>
      <li><strong>Design Insight:</strong> Increase Δt to lower F (F=Δp/Δt) in safety designs.</li>
      <li><strong>Dimensional Filter:</strong> Reject answers with wrong units quickly.</li>
      <li><strong>Energy Accounting:</strong> Track pathways of “lost” KE (heat, sound, deformation).</li>
    </ul>
  </section>

  <section class="section alt">
    <h2>6. Quick Summary</h2>
    <p>Momentum & collisions rely on universal momentum conservation. Collision class dictates KE behavior; impulse links force and Δp; COM frame symmetry simplifies elastic analysis; restitution quantifies “bounciness.” Consistency checks prevent accepting impossible datasets. Practical mitigation focuses on enlarging Δt to reduce forces. Mastery blends algebraic conservation with physical intuition of frames & energy channels.</p>
  </section>

</main>

<footer class="site-footer">
  <div class="footer-inner">
    <p>&copy; <span id="year"></span> Momentum and Collisions. All rights reserved.</p>
    <a href="#top" class="to-top">↑ Top</a>
  </div>
</footer>

<script>
/* Initialization */
document.addEventListener('DOMContentLoaded', () => {
  setYear();
  initToggles();
  initMCQs();
  initTheme();
  initParticles();
});

/* Year */
function setYear() {
  const yearEl = document.getElementById('year');
  if (yearEl) yearEl.textContent = new Date().getFullYear();
}

/* Toggle Q/A & Problems */
function initToggles() {
  const toggleButtons = document.querySelectorAll('.qa button.q, .problem button.q');
  toggleButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const wrapper = btn.parentElement;
      const answer = wrapper.querySelector('.a');
      const open = wrapper.classList.toggle('open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      if (answer) answer.setAttribute('aria-hidden', open ? 'false' : 'true');
    });
  });
}

/* MCQs with Timer + Summary */
function initMCQs() {
  const mcqCards = document.querySelectorAll('.mcq');
  const startBtn = document.getElementById('startMcqTimer');
  const finishBtn = document.getElementById('finishMcq');
  const minutesInput = document.getElementById('mcqMinutes');
  const timerDisplay = document.getElementById('mcqTimerDisplay');
  const summaryBox = document.getElementById('mcqFinalSummary');

  let timerActive = false;
  let timerId = null;
  let remainingSeconds = 0;
  let startTime = null;
  let ended = false;

  const reasoning = {
    1: "Momentum = mass × velocity: kg·m/s.",
    2: "Only perfectly elastic collisions conserve KE (and momentum).",
    3: "Depends on material elastic & plastic deformation behavior.",
    4: "Equal masses swap velocities (1D) / appear perpendicular (2D).",
    5: "Impulse J equals change in momentum Δp.",
    6: "Perfectly inelastic (stick) maximizes KE loss.",
    7: "Zero net external impulse ⇒ momentum constant.",
    8: "COM frame elastic: speeds unchanged, directions reversed.",
    9: "Linear momentum always conserved in isolated systems.",
    10: "Initial momentum zero ⇒ vector sum remains zero.",
    11: "e=0 means perfectly inelastic collision.",
    12: "Tangential component unchanged (frictionless).",
    13: "Lower separation speed ⇒ 0<e<1 (inelastic).",
    14: "Super-elastic: e>1 (internal energy release).",
    15: "COM frame: total momentum = 0 by definition.",
    16: "Impulse units (N·s) = momentum units (kg·m/s).",
    17: "e=0 yields maximum KE loss.",
    18: "External impulse required to change total momentum.",
    19: "Cue ball stops only in centered head-on elastic hit.",
    20: "Increase collision time to lower average force."
  };

  mcqCards.forEach((card, idx) => {
    const answer = card.dataset.answer;
    const opts = card.querySelectorAll('ol.options li');
    opts.forEach(opt => {
      opt.addEventListener('click', () => {
        if (ended) return;
        if (card.classList.contains('answered')) return;
        card.classList.add('answered');
        opt.classList.add('selected');
        const exp = card.querySelector('.explain');
        const correctOptElem = Array.from(opts).find(o => o.dataset.opt === answer);
        const correctText = correctOptElem ? correctOptElem.textContent.trim() : '';
        if (opt.dataset.opt === answer) {
          card.classList.add('correct');
          exp.innerHTML = `<strong>Correct.</strong> (${answer}) ${correctText}<br>${reasoning[idx+1] || ''}`;
        } else {
          card.classList.add('incorrect');
          correctOptElem?.style.setProperty('outline','2px solid var(--ok)');
          exp.innerHTML = `<strong>Incorrect.</strong> Correct: (${answer}) ${correctText}<br>${reasoning[idx+1] || ''}`;
        }
      });
    });
  });

  startBtn?.addEventListener('click', () => {
    if (timerActive) return;
    let mins = parseInt(minutesInput.value, 10);
    if (isNaN(mins) || mins < 1) mins = 10;
    remainingSeconds = mins * 60;
    startTime = Date.now();
    timerActive = true;
    finishBtn.disabled = false;
    minutesInput.disabled = true;
    startBtn.disabled = true;
    updateTimerDisplay();
    timerId = setInterval(tick, 1000);
  });

  finishBtn?.addEventListener('click', () => {
    if (ended) return;
    endSession(false);
  });

  function tick() {
    remainingSeconds--;
    updateTimerDisplay();
    if (remainingSeconds <= 0) {
      endSession(true);
    }
  }

  function updateTimerDisplay() {
    if (!timerDisplay) return;
    if (!timerActive) {
      timerDisplay.textContent = '';
      return;
    }
    const m = Math.floor(remainingSeconds / 60);
    const s = remainingSeconds % 60;
    timerDisplay.textContent = `${m}:${s.toString().padStart(2,'0')}`;
    timerDisplay.classList.toggle('timer-warning', remainingSeconds <= 60 && remainingSeconds > 0);
    timerDisplay.classList.toggle('timer-expired', remainingSeconds <= 0);
  }

  function endSession(expired) {
    ended = true;
    clearInterval(timerId);
    timerActive = false;
    lockMCQs();
    const timeUsedSec = startTime ? Math.round((Date.now() - startTime)/1000) : 0;
    renderSummary(timeUsedSec, expired);
    finishBtn.disabled = true;
  }

  function lockMCQs() {
    mcqCards.forEach(card => card.classList.add('locked'));
  }

  function renderSummary(timeUsedSec, expired) {
    if (!summaryBox) return;
    const total = mcqCards.length;
    let correct = 0, incorrect = 0, attempted = 0;
    const incorrectDetails = [];
    mcqCards.forEach((card, i) => {
      const answer = card.dataset.answer;
      const selected = card.querySelector('ol.options li.selected');
      if (selected) {
        attempted++;
        if (card.classList.contains('correct')) {
          correct++;
        } else if (card.classList.contains('incorrect')) {
          incorrect++;
          const opts = card.querySelectorAll('ol.options li');
          const correctOpt = Array.from(opts).find(o => o.dataset.opt === answer);
          incorrectDetails.push({
            number: i+1,
            correct: `${answer}) ${correctOpt ? correctOpt.textContent.trim() : ''}`,
            reasoning: card.querySelector('.explain')?.textContent.trim() || ''
          });
        }
      }
    });
    const unattempted = total - attempted;
    const accuracy = attempted ? ((correct / attempted) * 100).toFixed(1) : '0.0';
    const timeUsedStr = formatTime(timeUsedSec);
    const expiredNote = expired ? `<p><strong>Timer Expired.</strong> Remaining questions locked.</p>` : '';

    summaryBox.hidden = false;
    summaryBox.innerHTML = `
      <h3>MCQ Performance Summary</h3>
      ${expiredNote}
      <div class="summary-grid">
        <div class="metric"><strong>${total}</strong>Total Qs</div>
        <div class="metric"><strong>${attempted}</strong>Attempted</div>
        <div class="metric"><strong>${correct}</strong>Correct</div>
        <div class="metric"><strong>${incorrect}</strong>Incorrect</div>
        <div class="metric"><strong>${unattempted}</strong>Unattempted</div>
        <div class="metric"><strong>${accuracy}%</strong>Accuracy</div>
        <div class="metric"><strong>${timeUsedStr}</strong>Time Used</div>
      </div>
      ${incorrectDetails.length ? `
        <h4>Review Incorrect Answers</h4>
        <ul class="incorrect-list">
          ${incorrectDetails.map(d => `<li><strong>Q${d.number}:</strong> Correct: ${escapeHTML(d.correct)}<br><em>${escapeHTML(d.reasoning)}</em></li>`).join('')}
        </ul>` : `<p>No incorrect answers—great job! 🎉</p>`}
      <p><em>Tip:</em> Revisit theory for missed topics (e.g., restitution, COM frame) to solidify understanding.</p>
    `;
  }
}

/* Theme Toggle */
function initTheme() {
  const toggleBtn = document.getElementById('themeToggle');
  toggleBtn?.addEventListener('click', () => {
    document.documentElement.classList.toggle('light');
    toggleBtn.textContent = document.documentElement.classList.contains('light') ? '☀' : '☾';
  });
}

/* Particle Background */
function initParticles() {
  const canvas = document.getElementById('bgCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  let w, h;
  function resize() {
    w = canvas.width = window.innerWidth;
    const header = document.querySelector('.site-header');
    h = canvas.height = (header ? header.offsetHeight : 500) + 60;
  }
  window.addEventListener('resize', resize);
  resize();
  const count = 70;
  const particles = Array.from({length: count}, () => ({
    x: Math.random()*w,
    y: Math.random()*h,
    r: Math.random()*2 + 0.6,
    vx: (Math.random()*0.4 -0.2),
    vy: (Math.random()*0.4 -0.2)
  }));
  function step() {
    ctx.clearRect(0,0,w,h);
    particles.forEach(p => {
      p.x += p.vx; p.y += p.vy;
      if (p.x<0||p.x>w) p.vx*=-1;
      if (p.y<0||p.y>h) p.vy*=-1;
      ctx.globalAlpha = 0.85;
      ctx.fillStyle = '#ffffff';
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fill();
    });
    for (let i=0;i<count;i++){
      for (let j=i+1;j<count;j++){
        const a=particles[i], b=particles[j];
        const dx=a.x-b.x, dy=a.y-b.y;
        const dist = Math.hypot(dx,dy);
        if (dist<110){
          ctx.globalAlpha = 1 - dist/110;
          const grd = ctx.createLinearGradient(a.x,a.y,b.x,b.y);
          grd.addColorStop(0,'rgba(99,161,255,0.7)');
          grd.addColorStop(1,'rgba(143,107,255,0.7)');
          ctx.strokeStyle = grd;
          ctx.lineWidth = 0.6;
          ctx.beginPath();
          ctx.moveTo(a.x,a.y);
          ctx.lineTo(b.x,b.y);
          ctx.stroke();
        }
      }
    }
    requestAnimationFrame(step);
  }
  step();
}

/* Utilities */
function escapeHTML(str=''){
  return str.replace(/[&<>"']/g, c => ({
    '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
  }[c]));
}
function formatTime(sec){
  const m = Math.floor(sec/60);
  const s = sec % 60;
  return `${m}m ${s}s`;
}
</script>
</body>
</html>
